@using Microsoft.AspNetCore.Identity;
@using ComputingProjectBlazorIdentity.Data
@using Microsoft.AspNetCore.Http
@using Microsoft.AspNetCore.Authorization
@attribute [Authorize]
@using System.Security.Claims
@using ComputingProjectBlazorIdentity.Models
@inject ComputingProjectBlazorIdentity.Data.ApplicationDbContext DB

@page "/quiz-done"

<div class="container">
    <div class="text-center">
        <h1>Test Results</h1>

        <p>You have finished the test!</p>

        <p>You scored @DB.QuizResults.ElementAt(DB.QuizResults.Count() - 1).Score.ToString() out of 10.</p>

        @if (@DB.QuizResults.ElementAt(DB.QuizResults.Count() - 1).Score > 5)
        {
            <p>Good Work!</p>
        } else {
            <p>Read over the guides and have another go!</p>
        }
        
        <p>You can view your scores on your profile.</p>

        <NavLink href="/" class="text-black" style="text-decoration:none">
            <div class="my-4 align-content-center pt-1" style="background-color:lightgray; border: 2px solid #000000">
                <h3 class="px-2">Home</h3>
            </div>
        </NavLink>
    </div>
</div>

@code {
    
}
